<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="disenoBase::site-head"></head>
<body>
    <header th:replace="disenoBase::site-header"></header>
    <main class="container p-0" role="main">
        <div class="container" id="divCasoForm">
            <article>
                <header>
                    <h4 class="text-primary">Listado de Ordenes</h4>
                    <div role="alert"
                        class="alert-dismissible fade show alert alert-success"
                        th:if="${flash != null}">
                        <small th:text="${flash}"></small>
                        <button type="button" class="btn-close"
                            data-bs-dismiss="alert" aria-label="Close">
                        </button>
                    </div>
                </header>
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>Descripcion</th>
                            <th>Cliente</th>
                            <th>Fecha Orden</th>
                            <th>Largo</th>
                            <th>Ancho</th>
                            <th>Costo</th>
                            <th>Fecha Entrega</th>
                            <th>Asignaciones</th>
                            <th>Editar</th>
                            <th>Eliminar</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="orden : ${listaOrdenes}">
                            <td th:text="${orden.descripcion}"></td>
                            <td th:text="${orden.cliente.apellido}"></td>
                            <td th:text="${#calendars.format(
                                orden.fechaOrden, 'dd/MM/yyyy')}"></td>
                            <td th:text="${orden.largo}"></td>
                            <td th:text="${orden.ancho}"></td>
                            <td th:text="${orden.costo}"></td>
                            <td th:text="${#calendars.format(
                                orden.fechaEntrega, 'dd/MM/yyyy')}"></td>
                            <td>
                                <a class="btn btn-outline-info btn-sm" 
                                    th:href="@{/asignacion/}+${orden.id}+'/index/'">
                                    Detalle
                                </a>
                            </td>
                            <td>
                                <a class="btn btn-outline-warning btn-sm" 
                                    th:href="@{/orden/editar/}+${orden.id}">
                                    Editar
                                </a>
                            </td>
                            <td>
                                <a class="btn btn-outline-danger btn-sm" 
                                    th:href="@{/orden/eliminar/}+${orden.id}">
                                    Eliminar
                                </a>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan=10>
                                <a class="btn btn-outline-success" 
                                    th:href="@{/orden/nuevo}"
                                    role="button">Agregar Orden
                                </a>
                                <a class="btn btn-outline-secundary" 
                                    th:href="@{/index}"
                                    role="button">Regresar
                                </a>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </article>
        </div>
    </main>
    <footer th:replace="disenoBase::site-footer"></footer>
    <div th:replace="disenoBase::site-bootstrap"></div>
</body>
</html>
